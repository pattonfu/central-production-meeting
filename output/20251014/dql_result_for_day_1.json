[
    {
        "app": "central-api",
        "span.events.exception.message": "Cannot dial sip:5218766397/*:alice@kamailio-edgerouter.us1.cpaas.talkdeskapp.com:5085;user=alice;transport=tls;region=us2, reason: add external contact only supports phone numbers",
        "span.events.exception.stack_trace": "/central/lib/central/state_machine_flows/additional_contact_call_flow.rb:398:in `add_guest_external_participant_to_call': Cannot dial sip:5218766397/*:alice@kamailio-edgerouter.us1.cpaas.talkdeskapp.com:5085;user=alice;transport=tls;region=us2, reason: add external contact only supports phone numbers (RuntimeError)\n\tfrom /central/lib/central/state_machine_flows/additional_contact_call_flow.rb:164:in `add_participant_to_call'\n\tfrom /central/lib/central/state_machine_flows/additional_contact_call_flow.rb:72:in `block (2 levels) in <class:AdditionalContactCallFlow>'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block (2 levels) in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:200:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/app/controllers/external_contacts_controller.rb:39:in `block (3 levels) in <module:Central>'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/api.rb:237:in `with_call_flow'\n\tfrom /central/app/controllers/external_contacts_controller.rb:38:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-07T06:54:52.808943906+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Cannot dial sip:625453916/*:alice@kamailio-edgerouter.svc.cpaas.ap-southeast-1.aws.pub.talkdeskapp.com:5085;user=alice;transport=tls;region=sg1, reason: add external contact only supports phone numbers",
        "span.events.exception.stack_trace": "/central/lib/central/state_machine_flows/additional_contact_call_flow.rb:398:in `add_guest_external_participant_to_call': Cannot dial sip:625453916/*:alice@kamailio-edgerouter.svc.cpaas.ap-southeast-1.aws.pub.talkdeskapp.com:5085;user=alice;transport=tls;region=sg1, reason: add external contact only supports phone numbers (RuntimeError)\n\tfrom /central/lib/central/state_machine_flows/additional_contact_call_flow.rb:164:in `add_participant_to_call'\n\tfrom /central/lib/central/state_machine_flows/additional_contact_call_flow.rb:72:in `block (2 levels) in <class:AdditionalContactCallFlow>'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block (2 levels) in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:200:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/app/controllers/external_contacts_controller.rb:39:in `block (3 levels) in <module:Central>'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/api.rb:237:in `with_call_flow'\n\tfrom /central/app/controllers/external_contacts_controller.rb:38:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T17:47:36.109239961+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Error getting timezone for phone number",
        "span.events.exception.stack_trace": "/usr/local/bundle/gems/opentelemetry-sdk-1.4.1/lib/opentelemetry/sdk/trace/span.rb:168:in `full_message': Error getting timezone for phone number (Central::Error)\n",
        "count()": "2",
        "min(start_time)": "2025-10-07T08:39:56.248495476+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:138:in `request_via_get_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:129:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:157:in `get'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:14:in `block in get'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:13:in `get'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:61:in `fetch'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:462:in `fetch'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:532:in `block in cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:531:in `cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:83:in `cancel_call'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:19:in `block in method_missing'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:45:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:31:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "6",
        "min(start_time)": "2025-10-06T14:03:09.649849595+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:138:in `request_via_get_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:129:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-retry-1.0.3/lib/faraday/retry/middleware.rb:140:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:202:in `get'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-req-verifier-rb-2f07570711d0/lib/api_gw_request_verifier/gateway/key_loader.rb:24:in `load_keys'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-req-verifier-rb-2f07570711d0/lib/api_gw_request_verifier/gateway/public_keys_repository.rb:92:in `block in refresh_keys'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-req-verifier-rb-2f07570711d0/lib/api_gw_request_verifier/gateway/public_keys_repository.rb:87:in `loop'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-req-verifier-rb-2f07570711d0/lib/api_gw_request_verifier/gateway/public_keys_repository.rb:87:in `refresh_keys'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-req-verifier-rb-2f07570711d0/lib/api_gw_request_verifier/gateway/public_keys_repository.rb:43:in `block (2 levels) in resume_keys_refresh'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T23:04:19.439056356+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:24:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:23:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:143:in `create'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:206:in `create'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:549:in `block in try_create_call'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:548:in `try_create_call'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:75:in `create_call'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:370:in `dial_number'\n\tfrom /central/lib/central/agent_dialer.rb:148:in `dial_agent_number'\n\tfrom /central/lib/central/agent_dialer.rb:139:in `block in dial_agent_number_with_caller_ids'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `dial_agent_number_with_caller_ids'\n\tfrom /central/lib/central/agent_dialer.rb:116:in `block in dial_selected_agent_devices'\n\tfrom /central/lib/central/agent_dialer.rb:103:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:103:in `dial_selected_agent_devices'\n\tfrom /central/lib/central/agent_dialer.rb:83:in `block in dial_agent'\n\tfrom /central/lib/central/agent.rb:320:in `if_not_ringing'\n\tfrom /central/lib/central/agent_dialer.rb:81:in `dial_agent'\n\tfrom /central/lib/central/agent_dialer.rb:37:in `block in dial'\n\tfrom /central/lib/central/agent_dialer.rb:36:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:36:in `dial'\n\tfrom /central/lib/central/state_machine_flows/base_call_flow.rb:1846:in `dial_agents_batch_background'\n\tfrom /central/lib/central/state_machine_flows/base_call_flow.rb:1837:in `block (2 levels) in dial_agents'\n\tfrom /central/lib/central/background.rb:140:in `block in block_with_benchmark'\n\tfrom /central/lib/central/background.rb:103:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/background.rb:93:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T18:24:44.278662283+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:24:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:23:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:143:in `create'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:206:in `create'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:549:in `block in try_create_call'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:548:in `try_create_call'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:75:in `create_call'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:370:in `dial_number'\n\tfrom /central/lib/central/state_machine_flows/additional_contact_call_flow.rb:417:in `add_guest_external_participant_to_call'\n\tfrom /central/lib/central/state_machine_flows/additional_contact_call_flow.rb:164:in `add_participant_to_call'\n\tfrom /central/lib/central/state_machine_flows/additional_contact_call_flow.rb:72:in `block (2 levels) in <class:AdditionalContactCallFlow>'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block (2 levels) in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:200:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/app/controllers/external_contacts_controller.rb:39:in `block (3 levels) in <module:Central>'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/api.rb:237:in `with_call_flow'\n\tfrom /central/app/controllers/external_contacts_controller.rb:38:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T11:52:56.690903981+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:24:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:23:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:80:in `update'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:514:in `update'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:963:in `update'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:537:in `block in cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:531:in `cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:83:in `cancel_call'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:19:in `block in method_missing'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:45:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:31:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "3",
        "min(start_time)": "2025-10-06T22:36:34.255268244+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:24:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:23:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:80:in `update'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:259:in `update'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:295:in `block in update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:293:in `update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:250:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:515:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:157:in `toggle_recording_pause_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:40:in `switch_recording'\n\tfrom /central/app/controllers/interaction_action_recording_toggle_controller.rb:86:in `block in toggle_recording'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/api.rb:237:in `with_call_flow'\n\tfrom /central/lib/central/api.rb:233:in `with_call_entry_call_flow'\n\tfrom /central/app/controllers/interaction_action_recording_toggle_controller.rb:82:in `toggle_recording'\n\tfrom /central/app/controllers/interaction_action_recording_toggle_controller.rb:44:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T14:48:34.501339390+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:24:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:23:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:80:in `update'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/conference/participant.rb:500:in `update'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:378:in `update_hold_status'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:367:in `block in update_hold_status_with_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:357:in `update_hold_status_with_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:334:in `update_hold_status_for_conference_participant'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:19:in `block in method_missing'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:45:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:31:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "2",
        "min(start_time)": "2025-10-07T05:22:57.381525007+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskid.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskid.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:183:in `get_token'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/strategy/client_credentials.rb:22:in `get_token'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/jwt_client.rb:76:in `create_client'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:141:in `fetch_token_from_api'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:117:in `fetch_token'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:104:in `block in token_for'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:101:in `token_for'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:70:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/api_gw_service.rb:38:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/interactors/calls_router/update_provider_resources.rb:6:in `call'\n\tfrom /central/lib/central/interactors/handle_request_handoff.rb:283:in `handle_fast_manual_outbound'\n\tfrom /central/lib/central/interactors/handle_request_handoff.rb:59:in `call'\n\tfrom /central/app/controllers/interaction_controller.rb:72:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T15:12:59.575132898+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Net::ReadTimeout with #<TCPSocket:(closed)>",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:229:in `rbuf_fill': Net::ReadTimeout with #<TCPSocket:(closed)> (Net::ReadTimeout)\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:199:in `readuntil'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:209:in `readline'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:158:in `read_status_line'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:147:in `read_new'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2342:in `block in transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `catch'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2306:in `request'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:38:in `block in request'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:31:in `request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:152:in `block in request_via_request_method'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1570:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:24:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:23:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:143:in `create'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:206:in `create'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:549:in `block in try_create_call'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:548:in `try_create_call'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:75:in `create_call'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:370:in `dial_number'\n\tfrom /central/lib/central/agent_dialer.rb:148:in `dial_agent_number'\n\tfrom /central/lib/central/agent_dialer.rb:139:in `block in dial_agent_number_with_caller_ids'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:142:in `dial_agent_number_with_caller_ids'\n\tfrom /central/lib/central/agent_dialer.rb:116:in `block in dial_selected_agent_devices'\n\tfrom /central/lib/central/agent_dialer.rb:103:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:103:in `dial_selected_agent_devices'\n\tfrom /central/lib/central/agent_dialer.rb:83:in `block in dial_agent'\n\tfrom /central/lib/central/agent.rb:320:in `if_not_ringing'\n\tfrom /central/lib/central/agent_dialer.rb:81:in `dial_agent'\n\tfrom /central/lib/central/agent_dialer.rb:37:in `block in dial'\n\tfrom /central/lib/central/agent_dialer.rb:36:in `each'\n\tfrom /central/lib/central/agent_dialer.rb:36:in `dial'\n\tfrom /central/lib/central/state_machine_flows/base_call_flow.rb:1846:in `dial_agents_batch_background'\n\tfrom /central/lib/central/state_machine_flows/base_call_flow.rb:1837:in `block (2 levels) in dial_agents'\n\tfrom /central/lib/central/background.rb:140:in `block in block_with_benchmark'\n\tfrom /central/lib/central/background.rb:103:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/background.rb:93:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T20:12:48.780171450+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Net::ReadTimeout with #<TCPSocket:(closed)>",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:229:in `rbuf_fill': Net::ReadTimeout with #<TCPSocket:(closed)> (Net::ReadTimeout)\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:199:in `readuntil'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:209:in `readline'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:158:in `read_status_line'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:147:in `read_new'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2342:in `block in transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `catch'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2306:in `request'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:38:in `block in request'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:31:in `request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:152:in `block in request_via_request_method'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1570:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:24:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:23:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:80:in `update'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:259:in `update'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:295:in `block in update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:293:in `update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:252:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_flow.rb:766:in `update_recording_status'\n\tfrom /central/lib/central/call_flow.rb:744:in `provider_update_participant_hold_status'\n\tfrom /central/lib/central/call_flow.rb:162:in `execute_call_hold_operation'\n\tfrom /central/lib/central/call_flow.rb:152:in `place_call_on_hold'\n\tfrom /central/lib/central/state_machine_flows/transfer_call_sub_flow.rb:639:in `block (3 levels) in transfer_call_and_warm_transfer_call_events'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block (2 levels) in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:200:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/lib/central/interactors/transfers/call_transfer.rb:118:in `warm_transfer_to'\n\tfrom /central/lib/central/interactors/transfers/call_transfer.rb:18:in `block in call'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/transfers/call_transfer.rb:11:in `call'\n\tfrom /central/lib/central/interactors/transfers/call_transfer.rb:40:in `call_by_interaction_id'\n\tfrom /central/app/controllers/transfer_calls_controller.rb:62:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "3",
        "min(start_time)": "2025-10-07T04:18:28.027834483+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Net::ReadTimeout with #<TCPSocket:(closed)>",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:229:in `rbuf_fill': Net::ReadTimeout with #<TCPSocket:(closed)> (Net::ReadTimeout)\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:199:in `readuntil'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:209:in `readline'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:158:in `read_status_line'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:147:in `read_new'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2342:in `block in transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `catch'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2306:in `request'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:38:in `block in request'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:31:in `request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1917:in `get'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:139:in `block in request_via_get_method'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1570:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:138:in `request_via_get_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:129:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:157:in `get'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:14:in `block in get'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:13:in `get'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:61:in `fetch'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:462:in `fetch'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:422:in `block in get_call_leg_detail_with_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:421:in `get_call_leg_detail_with_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:403:in `get_call_leg_detail'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:448:in `get_call_leg_detail'\n\tfrom /central/lib/central/interactors/handle_request_handoff.rb:49:in `call'\n\tfrom /central/app/controllers/interaction_controller.rb:72:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T18:41:36.772688646+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Net::ReadTimeout with #<TCPSocket:(closed)>",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:229:in `rbuf_fill': Net::ReadTimeout with #<TCPSocket:(closed)> (Net::ReadTimeout)\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:199:in `readuntil'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:209:in `readline'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:158:in `read_status_line'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:147:in `read_new'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2342:in `block in transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `catch'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2306:in `request'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:38:in `block in request'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:31:in `request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1917:in `get'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:139:in `block in request_via_get_method'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1570:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:138:in `request_via_get_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:129:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:157:in `get'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:14:in `block in get'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:13:in `get'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:61:in `fetch'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:462:in `fetch'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:532:in `block in cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:531:in `cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:83:in `cancel_call'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:19:in `block in method_missing'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:45:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:31:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "2",
        "min(start_time)": "2025-10-06T22:13:41.450158712+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Twilio: cannot fetch conference to announce mp3",
        "span.events.exception.stack_trace": "/usr/local/bundle/gems/opentelemetry-sdk-1.4.1/lib/opentelemetry/sdk/trace/span.rb:168:in `full_message': Twilio: cannot fetch conference to announce mp3 (Central::Error)\n",
        "count()": "38",
        "min(start_time)": "2025-10-06T21:06:18.534045996+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Unexpected response status: 500 for post /calls-router/handoff/62c8949382bf4fd5a33617ed3f63c641: #<OAuth2::Response:0x00007fbfae33a930>",
        "span.events.exception.stack_trace": "/central/lib/central/gateways/api_gw.rb:57:in `block in request_with_retries': Unexpected response status: 500 for post /calls-router/handoff/62c8949382bf4fd5a33617ed3f63c641: #<OAuth2::Response:0x00007fbfae33a930> (StandardError)\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /central/lib/central/gateways/api_gw.rb:46:in `request_with_retries'\n\tfrom /central/lib/central/gateways/api_gw.rb:36:in `post_with_retries'\n\tfrom /central/lib/central/interactors/calls_router/handoff.rb:36:in `resign_handoff'\n\tfrom /central/lib/central/interactors/handle_request_resign_handoff.rb:107:in `block in async_handoff_process'\n\tfrom /central/lib/central/background.rb:140:in `block in block_with_benchmark'\n\tfrom /central/lib/central/background.rb:103:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/background.rb:93:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "1",
        "min(start_time)": "2025-10-07T01:30:16.733298942+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "Unexpected response status: 500 for post /calls-router/handoff/d4c223d8c03b40beadf049bc4f5bbdd4: #<OAuth2::Response:0x00007f19269a1500>",
        "span.events.exception.stack_trace": "/central/lib/central/gateways/api_gw.rb:57:in `block in request_with_retries': Unexpected response status: 500 for post /calls-router/handoff/d4c223d8c03b40beadf049bc4f5bbdd4: #<OAuth2::Response:0x00007f19269a1500> (StandardError)\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /central/lib/central/gateways/api_gw.rb:46:in `request_with_retries'\n\tfrom /central/lib/central/gateways/api_gw.rb:36:in `post_with_retries'\n\tfrom /central/lib/central/interactors/calls_router/handoff.rb:36:in `resign_handoff'\n\tfrom /central/lib/central/interactors/handle_request_resign_handoff.rb:107:in `block in async_handoff_process'\n\tfrom /central/lib/central/background.rb:140:in `block in block_with_benchmark'\n\tfrom /central/lib/central/background.rb:103:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/background.rb:93:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "1",
        "min(start_time)": "2025-10-07T02:15:28.361459087+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "[HTTP 400] 400 : Unable to update record\nParticipant to be coached is on hold\nhttps://www.twilio.com/docs/errors/400\n\n",
        "span.events.exception.stack_trace": "/usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:91:in `update': [HTTP 400] 400 : Unable to update record (Twilio::REST::RestError)\nParticipant to be coached is on hold\nhttps://www.twilio.com/docs/errors/400\n\n\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/conference/participant.rb:500:in `update'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:630:in `update_participant_conference_status'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:179:in `block in update_participant_status_with_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:168:in `update_participant_status_with_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:96:in `update_status_for_conference_participant'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:19:in `block in method_missing'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:45:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:31:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "4",
        "min(start_time)": "2025-10-06T17:57:05.803698549+08:00"
    },
    {
        "app": "central-api",
        "span.events.exception.message": "sid cannot be nil",
        "span.events.exception.stack_trace": "/usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account.rb:332:in `calls': sid cannot be nil (ArgumentError)\n\n            raise ArgumentError, 'sid cannot be nil' if sid.nil?\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\tfrom /central/lib/central/call_providers/twilio_api.rb:532:in `block in cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:531:in `cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:83:in `cancel_call'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:19:in `block in method_missing'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:45:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:31:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "14",
        "min(start_time)": "2025-10-07T00:39:52.517910301+08:00"
    },
    {
        "app": "central-scheduler",
        "span.events.exception.message": "WaitingCallQueue Redlock failed",
        "span.events.exception.stack_trace": "/usr/local/bundle/gems/opentelemetry-sdk-1.4.1/lib/opentelemetry/sdk/trace/span.rb:168:in `full_message': WaitingCallQueue Redlock failed (InstrumentedRedlockClient::RedlockInstrumentationError)\n",
        "count()": "2",
        "min(start_time)": "2025-10-07T03:40:39.909772952+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Account '6536f44239d6da53ec654ecf' has no UC Configs",
        "span.events.exception.stack_trace": "/central/lib/central/state_machine_flows/base_call_flow.rb:2901:in `uc_endpoint': Account '6536f44239d6da53ec654ecf' has no UC Configs (Central::Errors::UcConfigurationsMissing)\n\tfrom /central/lib/central/state_machine_flows/outbound_call_flow.rb:303:in `dial_customer'\n\tfrom /central/lib/central/state_machine_flows/outbound_call_flow.rb:219:in `dial'\n\tfrom /central/lib/central/state_machine_flows/outbound_call_flow.rb:59:in `block (2 levels) in <class:OutboundCallFlow>'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:371:in `before'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:195:in `block in run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:298:in `block in pausable'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:298:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:298:in `pausable'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:195:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/lib/central/interactors/handle_outbound_call.rb:67:in `block in handle_manual_outbound'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_outbound_call.rb:85:in `outbound_call_flow'\n\tfrom /central/lib/central/interactors/handle_outbound_call.rb:65:in `handle_manual_outbound'\n\tfrom /central/lib/central/interactors/handle_outbound_call.rb:41:in `handle'\n\tfrom /central/app/controllers/outbound_calls_controller.rb:26:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "3",
        "min(start_time)": "2025-10-07T05:48:29.589033619+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Call entry with interaction_id='4ebe86c20f35465f887d340973fe383f' not found",
        "span.events.exception.stack_trace": "/central/lib/central/call_entry.rb:583:in `block in find': Call entry with interaction_id='4ebe86c20f35465f887d340973fe383f' not found (Central::Errors::CallEntryNotFound)\n\tfrom /central/lib/central/call_entry.rb:610:in `find'\n\tfrom /central/lib/central/interactors/call_waiting/handle_participant_update_conference.rb:14:in `call'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:294:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "3",
        "min(start_time)": "2025-10-07T08:17:43.113658220+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Call entry with interaction_id='7829f5f6b47d460e8089fb7e291736f9' not found",
        "span.events.exception.stack_trace": "/central/lib/central/call_entry.rb:583:in `block in find': Call entry with interaction_id='7829f5f6b47d460e8089fb7e291736f9' not found (Central::Errors::CallEntryNotFound)\n\tfrom /central/lib/central/call_entry.rb:610:in `find'\n\tfrom /central/app/controllers/monitor_calls_controller.rb:50:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-07T09:39:20.165051527+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Central::UnableToUpdateRecord",
        "span.events.exception.stack_trace": "/central/lib/central/call_providers/twilio_api.rb:261:in `rescue in toggle_recording_by_call_sid': Central::UnableToUpdateRecord (Central::UnableToUpdateRecord)\n\tfrom /central/lib/central/call_providers/twilio_api.rb:248:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:515:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:138:in `toggle_recording_start_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:26:in `switch_recording'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_answered.rb:17:in `block in call'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_answered.rb:12:in `call'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:260:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n/usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:146:in `create': [HTTP 400] 21220 : Unable to create record (Twilio::REST::RestError)\nRequested resource is not eligible for recording\nhttps://www.twilio.com/docs/errors/21220\n\n\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:71:in `create'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:297:in `block in update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:293:in `update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:250:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:515:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:138:in `toggle_recording_start_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:26:in `switch_recording'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_answered.rb:17:in `block in call'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_answered.rb:12:in `call'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:260:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "11",
        "min(start_time)": "2025-10-06T12:12:24.156311731+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Could not find call_flow_class for CAd3689aa53bac02cebe792e87ca22102c, {:call_sid=>nil}",
        "span.events.exception.stack_trace": "/central/lib/central/with_call_flow.rb:29:in `run': Could not find call_flow_class for CAd3689aa53bac02cebe792e87ca22102c, {:call_sid=>nil} (RuntimeError)\n\tfrom /central/lib/central/interactors/callback/handle_callback_customer_call_ended.rb:17:in `with_call_flow'\n\tfrom /central/lib/central/interactors/callback/handle_callback_customer_call_ended.rb:9:in `handle'\n\tfrom /central/lib/central/interactors/callback/handle_customer_callback_call_leg_status_change.rb:49:in `handle'\n\tfrom /central/app/controllers/waiting_call_queue_controller.rb:168:in `handle_customer_callback_ended'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:229:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "3",
        "min(start_time)": "2025-10-07T00:39:42.425151113+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Error on handoff finish",
        "span.events.exception.stack_trace": "/usr/local/bundle/gems/opentelemetry-sdk-1.4.1/lib/opentelemetry/sdk/trace/span.rb:168:in `full_message': Error on handoff finish (Central::Error)\n",
        "count()": "2",
        "min(start_time)": "2025-10-06T16:21:31.750062698+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:138:in `request_via_get_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:129:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:157:in `get'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:14:in `block in get'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:13:in `get'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:61:in `fetch'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:462:in `fetch'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:532:in `block in cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:531:in `cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:83:in `cancel_call'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:19:in `block in method_missing'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:45:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:31:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T18:24:45.319840073+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/api_gw_service.rb:39:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/api_gw_service.rb:38:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/gateways/api_gw.rb:87:in `make_post'\n\tfrom /central/lib/central/gateways/api_gw.rb:70:in `make_request'\n\tfrom /central/lib/central/gateways/api_gw.rb:47:in `block in request_with_retries'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /central/lib/central/gateways/api_gw.rb:46:in `request_with_retries'\n\tfrom /central/lib/central/gateways/api_gw.rb:36:in `post_with_retries'\n\tfrom /central/lib/central/interactors/calls_router/handoff.rb:85:in `handoff'\n\tfrom /central/lib/central/interactors/calls_router/handoff.rb:15:in `call'\n\tfrom /central/lib/central/call_flow.rb:177:in `execute_handoff_finished_common_procedure'\n\tfrom /central/lib/central/state_machine_flows/events_sub_flow.rb:191:in `block (3 levels) in extend_with_events'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block (2 levels) in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:200:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/lib/central/interactors/handle_end_call.rb:58:in `block in handle'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_end_call.rb:87:in `inbound_call_flow'\n\tfrom /central/lib/central/interactors/handle_end_call.rb:56:in `handle'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:569:in `handle_end_call_case'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:240:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T18:24:45.992544295+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskid.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskid.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:183:in `get_token'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/strategy/client_credentials.rb:22:in `get_token'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/jwt_client.rb:76:in `create_client'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:141:in `fetch_token_from_api'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:117:in `fetch_token'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:104:in `block in token_for'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:101:in `token_for'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:70:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:13:in `get'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:61:in `fetch'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:462:in `fetch'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:532:in `block in cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:531:in `cancel_call_in_twilio'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:83:in `cancel_call'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:19:in `block in method_missing'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:45:in `block (2 levels) in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /central/lib/central/instrumentation/opentelemetry/open_telemetry_instrumentation.rb:98:in `trace'\n\tfrom /central/lib/central/thread_pool/thread_pool.rb:31:in `block in execute'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:20:in `block (2 levels) in post'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-concurrent_ruby-0.21.4/lib/opentelemetry/instrumentation/concurrent_ruby/patches/thread_pool_executor.rb:19:in `block in post'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'\n\tfrom /usr/local/bundle/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "3",
        "min(start_time)": "2025-10-06T16:09:45.626236121+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Net::ReadTimeout with #<TCPSocket:(closed)>",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:229:in `rbuf_fill': Net::ReadTimeout with #<TCPSocket:(closed)> (Net::ReadTimeout)\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:199:in `readuntil'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:209:in `readline'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:158:in `read_status_line'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:147:in `read_new'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2342:in `block in transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `catch'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2306:in `request'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:38:in `block in request'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:31:in `request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:152:in `block in request_via_request_method'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1570:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/api_gw_service.rb:39:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/api_gw_service.rb:38:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/gateways/api_gw.rb:87:in `make_post'\n\tfrom /central/lib/central/gateways/api_gw.rb:70:in `make_request'\n\tfrom /central/lib/central/gateways/api_gw.rb:47:in `block in request_with_retries'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /central/lib/central/gateways/api_gw.rb:46:in `request_with_retries'\n\tfrom /central/lib/central/gateways/api_gw.rb:36:in `post_with_retries'\n\tfrom /central/lib/central/interactors/calls_router/handoff.rb:85:in `handoff'\n\tfrom /central/lib/central/interactors/calls_router/handoff.rb:15:in `call'\n\tfrom /central/lib/central/call_flow.rb:177:in `execute_handoff_finished_common_procedure'\n\tfrom /central/lib/central/state_machine_flows/events_sub_flow.rb:191:in `block (3 levels) in extend_with_events'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block (2 levels) in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:200:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/lib/central/interactors/handle_end_call.rb:58:in `block in handle'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_end_call.rb:87:in `inbound_call_flow'\n\tfrom /central/lib/central/interactors/handle_end_call.rb:56:in `handle'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:569:in `handle_end_call_case'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:240:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-07T02:15:20.727328919+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Net::ReadTimeout with #<TCPSocket:(closed)>",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:229:in `rbuf_fill': Net::ReadTimeout with #<TCPSocket:(closed)> (Net::ReadTimeout)\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:199:in `readuntil'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:209:in `readline'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:158:in `read_status_line'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:147:in `read_new'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2342:in `block in transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `catch'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2306:in `request'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:38:in `block in request'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:31:in `request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:152:in `block in request_via_request_method'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1570:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:146:in `request_via_request_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:131:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:164:in `post'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:24:in `block in post'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:23:in `post'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:80:in `update'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:259:in `update'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:295:in `block in update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:293:in `update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:250:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:515:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:157:in `toggle_recording_pause_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:40:in `switch_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:170:in `force_pause_recording'\n\tfrom /central/lib/central/call_flow.rb:256:in `pause_recording_before_handoff_post_call'\n\tfrom /central/lib/central/call_flow.rb:235:in `proceed_to_post_call'\n\tfrom /central/lib/central/call_flow.rb:227:in `finish_call'\n\tfrom /central/lib/central/state_machine_flows/base_call_flow.rb:394:in `block (2 levels) in <class:BaseCallFlow>'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block (2 levels) in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:200:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:137:in `inject_event'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:51:in `block in call'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:116:in `with_call_flow'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:48:in `call'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:412:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-07T11:08:01.015191029+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "Net::ReadTimeout with #<TCPSocket:(closed)>",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:229:in `rbuf_fill': Net::ReadTimeout with #<TCPSocket:(closed)> (Net::ReadTimeout)\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:199:in `readuntil'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:209:in `readline'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:158:in `read_status_line'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:147:in `read_new'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2342:in `block in transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `catch'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2306:in `request'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:38:in `block in request'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:31:in `request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1917:in `get'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:139:in `block in request_via_get_method'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1570:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:138:in `request_via_get_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:129:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:157:in `get'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:14:in `block in get'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:13:in `get'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:61:in `fetch'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call.rb:462:in `fetch'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:308:in `rescue in block in update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:294:in `block in update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:293:in `update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:250:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:515:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:157:in `toggle_recording_pause_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:40:in `switch_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:170:in `force_pause_recording'\n\tfrom /central/lib/central/call_flow.rb:256:in `pause_recording_before_handoff_post_call'\n\tfrom /central/lib/central/call_flow.rb:235:in `proceed_to_post_call'\n\tfrom /central/lib/central/call_flow.rb:227:in `finish_call'\n\tfrom /central/lib/central/state_machine_flows/base_call_flow.rb:394:in `block (2 levels) in <class:BaseCallFlow>'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block (2 levels) in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:200:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:137:in `inject_event'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:51:in `block in call'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:116:in `with_call_flow'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:48:in `call'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:412:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n/usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:91:in `update': [HTTP 400] 21220 : Unable to update record (Twilio::REST::RestError)\nRequested resource is not eligible for recording\nhttps://www.twilio.com/docs/errors/21220\n\n\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:259:in `update'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:295:in `block in update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:293:in `update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:250:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:515:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:157:in `toggle_recording_pause_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:40:in `switch_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:170:in `force_pause_recording'\n\tfrom /central/lib/central/call_flow.rb:256:in `pause_recording_before_handoff_post_call'\n\tfrom /central/lib/central/call_flow.rb:235:in `proceed_to_post_call'\n\tfrom /central/lib/central/call_flow.rb:227:in `finish_call'\n\tfrom /central/lib/central/state_machine_flows/base_call_flow.rb:394:in `block (2 levels) in <class:BaseCallFlow>'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block (2 levels) in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:401:in `block in after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:399:in `after'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:200:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:137:in `inject_event'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:51:in `block in call'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:116:in `with_call_flow'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_completed.rb:48:in `call'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:412:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T13:34:42.851050781+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "[HTTP 400] 21220 : Unable to create record\nRequested resource is not eligible for recording\nhttps://www.twilio.com/docs/errors/21220\n\n",
        "span.events.exception.stack_trace": "/usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:146:in `create': [HTTP 400] 21220 : Unable to create record (Twilio::REST::RestError)\nRequested resource is not eligible for recording\nhttps://www.twilio.com/docs/errors/21220\n\n\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:71:in `create'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:297:in `block in update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:293:in `update_recording_status_by_call_sid'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:250:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/account.rb:515:in `toggle_recording_by_call_sid'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:138:in `toggle_recording_start_recording'\n\tfrom /central/lib/central/state_machine_flows/toggle_recording_sub_flow.rb:26:in `switch_recording'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_answered.rb:17:in `block in call'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_agent_call_leg_answered.rb:12:in `call'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:260:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "11",
        "min(start_time)": "2025-10-06T12:12:24.156311731+08:00"
    },
    {
        "app": "central-web",
        "span.events.exception.message": "undefined method `recordings' for nil:NilClass",
        "span.events.exception.stack_trace": "/central/lib/central/call_flow.rb:287:in `force_save_recording': undefined method `recordings' for nil:NilClass (NoMethodError)\n\n      recording = call_entry.recordings.find_active_by_type(type: type)\n                            ^^^^^^^^^^^\n\tfrom /central/lib/central/state_machine_flows/base_call_flow.rb:815:in `block (2 levels) in <class:BaseCallFlow>'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/eval_helpers.rb:79:in `evaluate_method'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:193:in `block in run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `each'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:192:in `run_methods'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/callback.rb:159:in `call'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:371:in `before'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:195:in `block in run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:298:in `block in pausable'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:298:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:298:in `pausable'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:195:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:128:in `run_callbacks'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block (2 levels) in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `catch'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:62:in `block in perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:183:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:176:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `block in within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:2167:in `transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:1870:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:175:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:182:in `within_transaction'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition_collection.rb:61:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/transition.rb:168:in `perform'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:158:in `fire'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:225:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/event.rb:230:in `block in add_actions'\n\tfrom /usr/local/bundle/bundler/gems/state_machines-ca3fe3adb3fb/lib/state_machines/machine.rb:729:in `block (2 levels) in define_helper'\n\tfrom /central/lib/central/interactors/handle_end_call.rb:58:in `block in handle'\n\tfrom /central/lib/central/with_call_flow.rb:33:in `block in run'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `catch'\n\tfrom /central/lib/central/with_call_flow.rb:32:in `run'\n\tfrom /central/lib/central/interactors/handle_end_call.rb:87:in `inbound_call_flow'\n\tfrom /central/lib/central/interactors/handle_end_call.rb:56:in `handle'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:569:in `handle_end_call_case'\n\tfrom /central/app/controllers/inbound_calls_controller.rb:240:in `block (2 levels) in <module:Central>'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:519:in `block in route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:1000:in `block in invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `catch'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:995:in `invoke_route'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:956:in `block in route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:53:in `block in call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:84:in `block in rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `loop'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `with_object'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:83:in `rotation'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router/compiler.rb:49:in `call_by_request'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/path_router.rb:43:in `call'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:953:in `route!'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:936:in `block in dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/padrino-core-0.15.3/lib/padrino-core/application/routing.rb:934:in `dispatch!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `block in call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `catch'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1119:in `invoke'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:956:in `call!'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:945:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/json_csrf.rb:26:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/base.rb:50:in `call'\n\tfrom /usr/local/bundle/gems/rack-protection-2.2.4/lib/rack/protection/frame_options.rb:31:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:266:in `context'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/session/abstract/id.rb:260:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/null_logger.rb:11:in `call'\n\tfrom /usr/local/bundle/gems/rack-2.2.17/lib/rack/head.rb:12:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:218:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:2004:in `call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `block in call'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1780:in `synchronize'\n\tfrom /usr/local/bundle/gems/sinatra-2.2.4/lib/sinatra/base.rb:1564:in `call'\n\tfrom /usr/local/bundle/gems/prometheus-client-4.2.2/lib/prometheus/middleware/exporter.rb:33:in `call'\n\tfrom /usr/local/bundle/gems/yabeda-prometheus-0.9.1/lib/yabeda/prometheus/exporter.rb:71:in `call'\n\tfrom /central/lib/central/locking/unlock_all_rack_middleware.rb:14:in `call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /central/lib/central/rack/authentication_middleware.rb:36:in `call'\n\tfrom /central/lib/central/rack/instrumentation_data_middleware.rb:23:in `call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:83:in `block (3 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack.rb:45:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:82:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:77:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-rack-0.24.6/lib/opentelemetry/instrumentation/rack/middlewares/tracer_middleware.rb:74:in `call'\n\tfrom /central/lib/central/rack/dump_errors_rack_middleware.rb:13:in `call'\n\tfrom /central/lib/central/thread_data_rack_middleware.rb:14:in `call'\n\tfrom /central/config/rack_xss_protection.rb:24:in `call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:148:in `block in call'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/support/timeout.rb:19:in `timeout'\n\tfrom /usr/local/bundle/gems/rack-timeout-0.6.3/lib/rack/timeout/core.rb:147:in `call'\n\tfrom /central/lib/rack/serial_initializer.rb:22:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/configuration.rb:272:in `call'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:100:in `block in handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/request.rb:99:in `handle_request'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:464:in `process_client'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/server.rb:245:in `block in run'\n\tfrom /usr/local/bundle/gems/puma-6.4.3/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\n",
        "count()": "27",
        "min(start_time)": "2025-10-06T12:31:57.869821972+08:00"
    },
    {
        "app": "central-worker-default",
        "span.events.exception.message": "Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired)",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `initialize': Failed to open TCP connection to api.talkdeskapp.com:443 (execution expired) (Net::OpenTimeout)\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `open'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1603:in `block in connect'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:185:in `block in timeout'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/timeout-0.4.3/lib/timeout.rb:192:in `timeout'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1601:in `connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:71:in `block in connect'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:70:in `connect'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1580:in `do_start'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1569:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:138:in `request_via_get_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:129:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:157:in `get'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:14:in `block in get'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:13:in `get'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:127:in `page'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:166:in `page'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:122:in `stream'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:96:in `list'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:277:in `block in get_call_recordings'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:276:in `get_call_recordings'\n\tfrom /central/lib/central/interactors/recordings/get_recording.rb:23:in `call'\n\tfrom /central/lib/central/interactors/recordings/get_recording.rb:47:in `fetch_and_save'\n\tfrom /central/lib/central/workers/get_recording_worker.rb:50:in `perform_job'\n\tfrom /central/lib/central/locking/unlock_all_job_helper.rb:12:in `perform'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:202:in `execute_job'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:177:in `block in invoke'\n\tfrom /usr/local/bundle/gems/yabeda-sidekiq-0.12.0/lib/yabeda/sidekiq/server_middleware.rb:20:in `block in call'\n\tfrom /usr/local/bundle/gems/yabeda-0.12.0/lib/yabeda/dsl/class_methods.rb:83:in `with_tags'\n\tfrom /usr/local/bundle/gems/yabeda-sidekiq-0.12.0/lib/yabeda/sidekiq/server_middleware.rb:19:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:179:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sidekiq-pro-5.5.8/lib/sidekiq/batch/middleware.rb:58:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:179:in `block in invoke'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/middlewares/server/tracer_middleware.rb:39:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/middlewares/server/tracer_middleware.rb:36:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/middlewares/server/tracer_middleware.rb:34:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:179:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:182:in `invoke'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:169:in `block in process'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:136:in `block (6 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_retry.rb:113:in `local'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:135:in `block (5 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq.rb:44:in `block in <module:Sidekiq>'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:131:in `block (4 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:263:in `stats'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:126:in `block (3 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_logger.rb:13:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:125:in `block (2 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_retry.rb:80:in `global'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:124:in `block in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_logger.rb:39:in `prepare'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:123:in `dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:168:in `process'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:78:in `process_one'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/patches/processor.rb:21:in `process_one'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:68:in `run'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/component.rb:8:in `watchdog'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/component.rb:17:in `block in safe_thread'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "1",
        "min(start_time)": "2025-10-06T22:13:04.995714647+08:00"
    },
    {
        "app": "central-worker-default",
        "span.events.exception.message": "Net::ReadTimeout with #<TCPSocket:(closed)>",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:229:in `rbuf_fill': Net::ReadTimeout with #<TCPSocket:(closed)> (Net::ReadTimeout)\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:199:in `readuntil'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:209:in `readline'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:158:in `read_status_line'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:147:in `read_new'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2342:in `block in transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `catch'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2306:in `request'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:38:in `block in request'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:31:in `request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1917:in `get'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:139:in `block in request_via_get_method'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1570:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:138:in `request_via_get_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:129:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:157:in `get'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:14:in `block in get'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:13:in `get'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:127:in `page'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:166:in `page'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:122:in `stream'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:96:in `list'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:277:in `block in get_call_recordings'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:276:in `get_call_recordings'\n\tfrom /central/lib/central/interactors/recordings/get_recording.rb:23:in `call'\n\tfrom /central/lib/central/interactors/recordings/get_recording.rb:47:in `fetch_and_save'\n\tfrom /central/lib/central/workers/get_recording_worker.rb:50:in `perform_job'\n\tfrom /central/lib/central/locking/unlock_all_job_helper.rb:12:in `perform'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:202:in `execute_job'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:177:in `block in invoke'\n\tfrom /usr/local/bundle/gems/yabeda-sidekiq-0.12.0/lib/yabeda/sidekiq/server_middleware.rb:20:in `block in call'\n\tfrom /usr/local/bundle/gems/yabeda-0.12.0/lib/yabeda/dsl/class_methods.rb:83:in `with_tags'\n\tfrom /usr/local/bundle/gems/yabeda-sidekiq-0.12.0/lib/yabeda/sidekiq/server_middleware.rb:19:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:179:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sidekiq-pro-5.5.8/lib/sidekiq/batch/middleware.rb:58:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:179:in `block in invoke'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/middlewares/server/tracer_middleware.rb:39:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/middlewares/server/tracer_middleware.rb:36:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/middlewares/server/tracer_middleware.rb:34:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:179:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:182:in `invoke'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:169:in `block in process'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:136:in `block (6 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_retry.rb:113:in `local'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:135:in `block (5 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq.rb:44:in `block in <module:Sidekiq>'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:131:in `block (4 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:263:in `stats'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:126:in `block (3 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_logger.rb:13:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:125:in `block (2 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_retry.rb:80:in `global'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:124:in `block in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_logger.rb:39:in `prepare'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:123:in `dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:168:in `process'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:78:in `process_one'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/patches/processor.rb:21:in `process_one'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:68:in `run'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/component.rb:8:in `watchdog'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/component.rb:17:in `block in safe_thread'\n",
        "count()": "3",
        "min(start_time)": "2025-10-07T02:18:50.283684217+08:00"
    },
    {
        "app": "central-worker-default",
        "span.events.exception.message": "Net::ReadTimeout with #<TCPSocket:(closed)>",
        "span.events.exception.stack_trace": "/usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:229:in `rbuf_fill': Net::ReadTimeout with #<TCPSocket:(closed)> (Net::ReadTimeout)\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:199:in `readuntil'\n\tfrom /usr/local/lib/ruby/gems/3.2.0/gems/net-protocol-0.2.2/lib/net/protocol.rb:209:in `readline'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:158:in `read_status_line'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http/response.rb:147:in `read_new'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2342:in `block in transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `catch'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2333:in `transport_request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:2306:in `request'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:38:in `block in request'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-net_http-0.22.7/lib/opentelemetry/instrumentation/net/http/patches/instrumentation.rb:31:in `request'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1917:in `get'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:139:in `block in request_via_get_method'\n\tfrom /usr/local/lib/ruby/3.2.0/net/http.rb:1570:in `start'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:138:in `request_via_get_method'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:129:in `request_with_wrapped_block'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:122:in `perform_request'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:66:in `block in call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/adapter.rb:50:in `connection'\n\tfrom /usr/local/bundle/gems/faraday-net_http-1.0.1/lib/faraday/adapter/net_http.rb:64:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/request/url_encoded.rb:25:in `call'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/rack_builder.rb:154:in `build_response'\n\tfrom /usr/local/bundle/gems/faraday-1.10.3/lib/faraday/connection.rb:516:in `run_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:282:in `execute_request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/client.rb:114:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:150:in `request'\n\tfrom /usr/local/bundle/gems/oauth2-2.0.9/lib/oauth2/access_token.rb:157:in `get'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:14:in `block in get'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:82:in `block in request'\n\tfrom /usr/local/bundle/gems/retries-0.0.5/lib/retries.rb:46:in `with_retries'\n\tfrom /usr/local/bundle/bundler/gems/api-gw-client-rb-2968880c4d9f/lib/api_gw_client/base_client.rb:68:in `request'\n\tfrom /central/lib/central/services/api_gw/twilio_proxy_shared_api_gw_service.rb:13:in `get'\n\tfrom /central/lib/central/thread_pool/bang_proxy.rb:23:in `method_missing'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:54:in `proxy'\n\tfrom /central/lib/central/call_providers/proxy_client.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/client.rb:109:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/domain.rb:22:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:53:in `request'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/framework/rest/version.rb:127:in `page'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:166:in `page'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:122:in `stream'\n\tfrom /usr/local/bundle/gems/twilio-ruby-5.75.0/lib/twilio-ruby/rest/api/v2010/account/call/recording.rb:96:in `list'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:277:in `block in get_call_recordings'\n\tfrom /central/lib/central/call_providers/provider_api.rb:20:in `block in run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/provider_api.rb:107:in `retry_on_exception'\n\tfrom /central/lib/central/call_providers/provider_api.rb:19:in `run_request_with_logging_and_retries'\n\tfrom /central/lib/central/call_providers/twilio_api.rb:276:in `get_call_recordings'\n\tfrom /central/lib/central/interactors/recordings/get_recording.rb:23:in `call'\n\tfrom /central/lib/central/interactors/recordings/get_recording.rb:47:in `fetch_and_save'\n\tfrom /central/lib/central/workers/get_recording_worker.rb:50:in `perform_job'\n\tfrom /central/lib/central/locking/unlock_all_job_helper.rb:12:in `perform'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `bind_call'\n\tfrom /central/lib/central/locking/unlock_all.rb:15:in `block in unlock_all_at_exit'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:202:in `execute_job'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:170:in `block (2 levels) in process'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:177:in `block in invoke'\n\tfrom /usr/local/bundle/gems/yabeda-sidekiq-0.12.0/lib/yabeda/sidekiq/server_middleware.rb:20:in `block in call'\n\tfrom /usr/local/bundle/gems/yabeda-0.12.0/lib/yabeda/dsl/class_methods.rb:83:in `with_tags'\n\tfrom /usr/local/bundle/gems/yabeda-sidekiq-0.12.0/lib/yabeda/sidekiq/server_middleware.rb:19:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:179:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sidekiq-pro-5.5.8/lib/sidekiq/batch/middleware.rb:58:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:179:in `block in invoke'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/middlewares/server/tracer_middleware.rb:39:in `block (2 levels) in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `block in in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `block in with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:87:in `with_value'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace.rb:70:in `with_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/trace/tracer.rb:37:in `in_span'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/middlewares/server/tracer_middleware.rb:36:in `block in call'\n\tfrom /usr/local/bundle/gems/opentelemetry-api-1.4.0/lib/opentelemetry/context.rb:71:in `with_current'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/middlewares/server/tracer_middleware.rb:34:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:179:in `block in invoke'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/middleware/chain.rb:182:in `invoke'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:169:in `block in process'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:136:in `block (6 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_retry.rb:113:in `local'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:135:in `block (5 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq.rb:44:in `block in <module:Sidekiq>'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:131:in `block (4 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:263:in `stats'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:126:in `block (3 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_logger.rb:13:in `call'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:125:in `block (2 levels) in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_retry.rb:80:in `global'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:124:in `block in dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/job_logger.rb:39:in `prepare'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:123:in `dispatch'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:168:in `process'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:78:in `process_one'\n\tfrom /usr/local/bundle/gems/opentelemetry-instrumentation-sidekiq-0.25.7/lib/opentelemetry/instrumentation/sidekiq/patches/processor.rb:21:in `process_one'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/processor.rb:68:in `run'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/component.rb:8:in `watchdog'\n\tfrom /usr/local/bundle/gems/sidekiq-6.5.12/lib/sidekiq/component.rb:17:in `block in safe_thread'\n\tfrom /usr/local/bundle/gems/logging-2.4.0/lib/logging/diagnostic_context.rb:474:in `block in create_with_logging_context'\n",
        "count()": "3",
        "min(start_time)": "2025-10-06T13:56:00.873256176+08:00"
    }
]